<!DOCTYPE html>
<html lang="zh">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ£è¯å¿«ä¹</title>
    <style type="text/css">
        /* é¡µé¢åŸºç¡€æ ·å¼ */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* é˜²æ­¢æ»šåŠ¨æ¡ */
            background-color: #000;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        /* é›ªèŠ±å®¹å™¨ */
        #snow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; /* é›ªèŠ±åœ¨æœ€åº•å±‚ */
            pointer-events: none; /* ä¸é®æŒ¡ç‚¹å‡» */
        }

        /* å†…å®¹å®¹å™¨ï¼ˆæ–‡å­—+å›¾ç‰‡ï¼‰ */
        #content {
            position: relative;
            z-index: 2; /* å†…å®¹åœ¨é›ªèŠ±ä¸Šå±‚ */
            width: 100%;
            height: 100vh;
            padding: 20px; /* ä¸Šä¸‹å·¦å³å†…è¾¹è· */
            box-sizing: border-box;
        }
        
        /* åœ£è¯æ ‘å›¾ç‰‡ï¼ˆæ¢å¤ä½ åŸæ¥çš„å®šä½å’Œå°ºå¯¸ï¼‰ */
        #christmas-tree {
            position: absolute;
            top: 90px; /* åŸæ ·å¼çš„topå€¼ */
            left: 50%;
            transform: translateX(-50%); /* æ°´å¹³å±…ä¸­ */
            max-width: 90%; /* é˜²æ­¢è¶…å‡ºå±å¹• */
            height: auto;
        }

        /* æ‰“å­—æœºæ–‡å­—ï¼ˆå·¦ä¸Šè§’ï¼‰ */
        #typed-container {
            position: absolute;
            top: 20px; /* è·ç¦»é¡¶éƒ¨20px */
            left: 20px; /* è·ç¦»å·¦ä¾§20px */
            color: #ffffff;
            font-size: 14px; /* åŸæ ·å¼çš„å­—ä½“å¤§å° */
            z-index: 3; /* æ–‡å­—åœ¨å›¾ç‰‡ä¸Šå±‚ */
        }

        /* éŸ³ä¹å›¾æ ‡ï¼ˆå³ä¸Šè§’ï¼‰ */
        #music_ico {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 30px;
            height: 30px;
            z-index: 4;
            cursor: pointer;
        }

        /* æ‰“å­—æœºå…‰æ ‡ */
        .typed-cursor{
            opacity: 1;
            -webkit-animation: blink 0.7s infinite;
            -moz-animation: blink 0.7s infinite;
            -ms-animation: blink 0.7s infinite;
            -o-animation: blink 0.7s infinite;
            animation: blink 0.7s infinite;
        }
        @keyframes blink{
            0% { opacity:1; }
            50% { opacity:0; }
            100% { opacity:1; }
        }
        @-webkit-keyframes blink { 0% { opacity:1; } 50% { opacity:0; } 100% { opacity:1; } }
        @-moz-keyframes blink { 0% { opacity:1; } 50% { opacity:0; } 100% { opacity:1; } }
        @-ms-keyframes blink { 0% { opacity:1; } 50% { opacity:0; } 100% { opacity:1; } }
        @-o-keyframes blink { 0% { opacity:1; } 50% { opacity:0; } 100% { opacity:1; } }
    </style>
</head>
<!-- ç‚¹å‡»å±å¹•æ’­æ”¾éŸ³ä¹ -->
<body onclick="bodyPlayMusic()">
    <!-- é›ªèŠ±Canvas -->
    <canvas id="snow-container"></canvas>
    
    <!-- éŸ³ä¹å…ƒç´  -->
    <img id="music_ico" src="https://img.icons8.com/fluency/96/ffffff/music.png" alt="éŸ³ä¹å›¾æ ‡" onclick="clickMusic()">
    <audio id="audio" src="https://sf6-cdn-tos.douyinstatic.com/obj/ies-music/6905357668872063752.mp3" preload="auto" loop="loop"></audio>
    
    <!-- ä¸»è¦å†…å®¹ -->
    <div id="content">
        <!-- åœ£è¯æ ‘å›¾ç‰‡ï¼ˆæ¢å¤ä½ åŸæ¥çš„åœ°å€ï¼‰ -->
        <img id="christmas-tree" src="./åœ£è¯å¿«ä¹_files/b2b334de37594bc08be0131815930cd2~noop.image" alt="åœ£è¯æ ‘">
        
        <!-- æ‰“å­—æœºæ–‡å­—ï¼ˆå·¦ä¸Šè§’å®¹å™¨ï¼‰ -->
        <div id="typed-container">
            <div id="typed"></div>
        </div>
    </div>

    <!-- æ‰“å­—æœºè„šæœ¬ï¼ˆCDNç¨³å®šåŠ è½½ï¼‰ -->
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js"></script>
    <script type="text/javascript">
        var shouci = true; // é¦–æ¬¡ç‚¹å‡»æ ‡è®°
        const audio = document.getElementById('audio');
        const musicIco = document.getElementById('music_ico');
        let isPlaying = false;

        // é¡µé¢åˆå§‹åŒ–
        function initPage() {
            startSnowfall(); // é›ªèŠ±åŠ¨ç”»
            startTypingEffect(); // æ‰“å­—æœºæ•ˆæœ
        }

        // ç‚¹å‡»å±å¹•æ’­æ”¾éŸ³ä¹ï¼ˆé¦–æ¬¡ç‚¹å‡»è§¦å‘ï¼‰
        function bodyPlayMusic() {
            if (shouci) {
                shouci = false;
                audio.play();
                isPlaying = true;
            }
        }

        // ç‚¹å‡»éŸ³ä¹å›¾æ ‡åˆ‡æ¢æ’­æ”¾/æš‚åœ
        function clickMusic() {
            if (isPlaying) {
                audio.pause();
                musicIco.src = "https://img.icons8.com/fluency/96/ffffff/no-audio.png";
            } else {
                audio.play();
                musicIco.src = "https://img.icons8.com/fluency/96/ffffff/music.png";
            }
            isPlaying = !isPlaying;
        }

        // é›ªèŠ±åŠ¨ç”»ï¼ˆåŸç”ŸJSï¼Œæ€§èƒ½å¥½ï¼‰
        function startSnowfall() {
            const canvas = document.getElementById('snow-container');
            const ctx = canvas.getContext('2d');
            let width = window.innerWidth;
            let height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;

            // é›ªèŠ±é…ç½®
            const snowflakes = [];
            const snowCount = Math.floor(width * 0.08); // æŒ‰å±å¹•å®½åº¦å®šé›ªèŠ±æ•°é‡

            // åˆå§‹åŒ–é›ªèŠ±
            for (let i = 0; i < snowCount; i++) {
                snowflakes.push({
                    x: Math.random() * width,
                    y: Math.random() * -height,
                    radius: Math.random() * 2 + 0.5,
                    speedY: Math.random() * 2 + 1,
                    speedX: Math.random() * 1 - 0.5
                });
            }

            // åŠ¨ç”»å¾ªç¯
            function animate() {
                ctx.clearRect(0, 0, width, height);
                snowflakes.forEach(snow => {
                    snow.y += snow.speedY;
                    snow.x += snow.speedX;
                    // é›ªèŠ±è½åœ°åé‡æ–°ä»é¡¶éƒ¨å¼€å§‹
                    if (snow.y > height) {
                        snow.y = Math.random() * -20;
                        snow.x = Math.random() * width;
                    }
                    // ç»˜åˆ¶é›ªèŠ±
                    ctx.beginPath();
                    ctx.arc(snow.x, snow.y, snow.radius, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                    ctx.fill();
                });
                requestAnimationFrame(animate);
            }

            // çª—å£ resize æ—¶è°ƒæ•´Canvaså°ºå¯¸
            window.addEventListener('resize', () => {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
            });

            animate();
        }

        // æ‰“å­—æœºæ•ˆæœï¼ˆæ¢å¤ä½ åŸæ¥çš„æ–‡å­—å†…å®¹ï¼‰
        function startTypingEffect() {
            const typedElement = document.getElementById('typed');
            const strings = [
                '<br><br>æ²¡æœ‰ä»€ä¹ˆè¯å¤šè¯´âœ¨<br>è¯·ä½ è§‚çœ‹åœ£è¯æ ‘<br>ğŸ”” ğŸ ğŸŠ â„³á´‡Ê€Ê€á½ğŸ… à¾€à½²â„‚ÊœÊ€Éªsá´›á´á´€sğŸ„ğŸ¬'
            ];

            new Typed(typedElement, {
                strings: strings,
                typeSpeed: 110, // åŸæ ·å¼çš„æ‰“å­—é€Ÿåº¦
                backDelay: 1000, // åŸæ ·å¼çš„å›é€€å»¶è¿Ÿ
                loop: false, // ä¸å¾ªç¯
                showCursor: true, // æ˜¾ç¤ºå…‰æ ‡
                cursorChar: '|', // å…‰æ ‡å­—ç¬¦
                contentType: 'html' // æ”¯æŒHTMLæ¢è¡Œ
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = initPage;
    </script>
</body>
</html>
